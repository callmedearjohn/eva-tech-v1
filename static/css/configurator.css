.configurator__grid {
  display: grid;
  grid-template-columns: 1.2fr 1.6fr 1fr;
  gap: 2rem;
  align-items: start;
}

.configurator__preview img { width: 100%; border-radius: 8px; }
.pattern-overlay { position:absolute; inset:0; pointer-events:none; background-size: 160px auto; opacity:.25; mix-blend-mode:multiply; border-radius:8px; }
.configurator__main-image { position:relative; text-align:center;height:500px; width: 100%;}
.configurator__main-image img { max-width:520px; width:100%; display:inline-block; }
.configurator__thumbnails { display:flex; gap:.5rem; margin-top:.5rem; flex-wrap:wrap; }
.configurator__thumbnails img { width: 80px; height: 60px; object-fit: cover; border-radius:6px; cursor:pointer; }

/* Alignments and visual fixes */
.goodcard .row { align-items: flex-start; }
.card_title { margin-bottom: 12px; }
.summary-card h3 { margin-top: 0; }
.summary-actions .btn, .order_buttons .btn { height: 44px; display: inline-flex; align-items:center; justify-content:center; }
.configurator__thumbnails { justify-content: center; }
.cfg-row-vehicle select { margin-right: 8px; }
.cfg-row-vehicle select:last-child { margin-right: 0; }
.cfg-block .cfg-title { line-height: 1.2; }
.tabs_wrapper { margin-top: 24px; }
.nav.nav-tabs { border-bottom: 1px solid #eee; }
.nav.nav-tabs .nav-link { padding: 10px 14px; }
.tab-content { padding: 12px 0; }

/* Hide removed tab content if present */
#tab3 { display:none !important; }

.cfg-block { margin-bottom: 1.5rem; }
.cfg-title { margin: 0 0 .5rem; font-weight: 700; }
.cfg-row { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem; }
.cfg-row-vehicle { display: flex; }
.cfg-sets { grid-template-columns: 1fr; }
.cfg-radio, .cfg-checkbox { display: flex; gap:.5rem; align-items: center; margin: .25rem 0; }
.cfg-swatch { display:inline-flex; align-items:center; gap:.5rem; margin-right:1rem; cursor:pointer; }
.cfg-help { color: var(--clr-dark-grey); font-size:.9rem; margin-bottom: 10px; }
.cfg-error { color: #c62828; }

.configurator__summary .summary-card { border:1px solid #ddd; border-radius:8px; padding:1rem; position:sticky; top:1rem; background:#fff; box-shadow:0 2px 8px rgba(0,0,0,.04); }
.configurator__summary .summary-total { display:flex; justify-content:space-between; border-top:1px solid #eee; margin-top:1rem; padding-top:.75rem; }
.summary-actions { display:grid; grid-template-columns: 1fr 1fr; gap:.5rem; margin-top:1rem; }
.badge { margin-top:.5rem; background:#1c7c1c; color:#fff; padding:.25rem .5rem; border-radius:4px; width:max-content; }

/* Colors (swatch) */
.cfg-colors { display: grid; gap: 1.25rem; }
.color-group__head { display:flex; gap:.5rem; align-items:baseline; margin-bottom:.25rem; }
.color-group__label { color:#3b3b3b; }
.swatch-list { display:flex; flex-wrap:wrap; gap:.75rem; }
.swatch {
  width: 32px; height: 32px; border-radius:50%; display:inline-block; cursor:pointer; position:relative;
  border: 2px solid rgba(0,0,0,.1); box-shadow: inset 0 0 0 2px rgba(255,255,255,.6);
}
.swatch.is-selected { outline: 3px solid #ffc400; outline-offset: 2px; }
.cfg-select-hidden { position:absolute; left:-9999px; width:1px; height:1px; overflow:hidden; }

/* Quantity */
.summary-qty { display:flex; justify-content:space-between; align-items:center; margin-top:.5rem; }
.qty-control { display:inline-flex; align-items:center; gap:.25rem; border:1px solid #ddd; border-radius:8px; overflow:hidden; }
.qty-control button { background:#f6f6f6; border:none; width:36px; height:36px; cursor:pointer; font-size:20px; line-height:1; }
.qty-control input { width:54px; height:36px; border:none; text-align:center; font-size:16px; outline:none; padding:0; }

@media (max-width: 980px) {
  .configurator__grid { grid-template-columns: 1fr; }
  .cfg-row { grid-template-columns: 1fr; }
  .summary-actions { grid-template-columns: 1fr; }
}

/* Improve selects appearance with NiceSelect fallback */
.constructor-step__select { min-height: 42px; }
.select__arow { background-position: right 10px center; }


/* Mobile lightbox for gallery */
@media (max-width: 768px) {
  .mobile-lightbox { position: fixed; inset: 0; background: rgba(0,0,0,.8); display: none; align-items:center; justify-content:center; z-index: 9999; }
  .mobile-lightbox.is-open { display:flex; animation: lb-fade .25s ease forwards; }
  .mobile-lightbox__content { width: 92vw; max-width: 520px; border-radius: 10px; overflow: hidden; background: #000; transform: scale(.92); opacity: 0; animation: lb-zoom .25s ease forwards; }
  .mobile-lightbox__close { position:absolute; right:12px; top:12px; width:36px; height:36px; border-radius:18px; background:rgba(255,255,255,.9); color:#111; display:flex; align-items:center; justify-content:center; z-index: 2; }
  .mobile-lightbox .swiper { width: 100%; height: 100%; }
  .mobile-lightbox .swiper-slide { display:flex; align-items:center; justify-content:center; }
  .mobile-lightbox .swiper-slide img { max-width:100%; max-height:80vh; height:auto; display:block; }
  @keyframes lb-zoom { to { transform: scale(1); opacity: 1; } }
  @keyframes lb-fade { from { opacity: 0; } to { opacity: 1; } }
}

/* Inline validation for vehicle selects */
.cfg-invalid { outline: 2px solid #d93025 !important; border-color: #d93025 !important; }
.nice-select.cfg-invalid { border-color: #d93025 !important; box-shadow: 0 0 0 2px rgba(217,48,37,.15); }

/* Subtle attention animation when jumping to the first invalid input */
@keyframes cfg-shake { 0%,100% { transform: translateX(0); } 25% { transform: translateX(-3px); } 75% { transform: translateX(3px); } }
.cfg-shake { animation: cfg-shake .4s ease; }
